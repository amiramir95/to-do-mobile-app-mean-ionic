<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="this.mode !== 'edit'; else elseBlock">Add Task</ion-title>
    <ng-template #elseBlock> Edit Task</ng-template>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label size="3" position="fixed">Title: </ion-label>
            <ion-input
              formControlName="title"
              name="title"
              size="9"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label size="6">Due date (Optional): </ion-label>
            <ion-datetime
              formControlName="dueDate"
              displayFormat="YYYY-MM-DD"
              [min]="this?.today"
              [max]="this?.maxDate"
            >
            </ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button
            *ngIf="this.mode !== 'edit'; else elseBlock"
            expand="block"
            class="ion-padding"
            type="submit"
          >
            Add Task</ion-button
          >
          <ng-template #elseBlock>
            <ion-button expand="block" class="ion-padding" type="submit">
              Edit Task
            </ion-button>
          </ng-template>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
